From 626676fab6a98041d1da32872df0fe79103705da Mon Sep 17 00:00:00 2001
From: Matt Hoosier <matt.hoosier@garmin.com>
Date: Wed, 18 Apr 2018 11:48:30 -0500
Subject: [PATCH 08/10] Unbreak build when BUILD_BT_SUPPORT=OFF

Fixes a logic error in computing source-exclusion lists.

%% original patch: 0001-Unbreak-build-when-BUILD_BT_SUPPORT-OFF.patch
---
 src/components/transport_manager/CMakeLists.txt | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/components/transport_manager/CMakeLists.txt b/src/components/transport_manager/CMakeLists.txt
index 4fa2243..c31cb2b 100644
--- a/src/components/transport_manager/CMakeLists.txt
+++ b/src/components/transport_manager/CMakeLists.txt
@@ -68,13 +68,13 @@ endif()
 
 if(BUILD_USB_SUPPORT)
   if (CMAKE_SYSTEM_NAME STREQUAL "Linux")
-    set(EXCLUDE_PATHS
+    list(APPEND EXCLUDE_PATHS
       ${COMPONENTS_DIR}/transport_manager/include/transport_manager/usb/qnx
       ${COMPONENTS_DIR}/transport_manager/src/usb/qnx
     )
 
   elseif(CMAKE_SYSTEM_NAME STREQUAL "QNX")
-    set(EXCLUDE_PATHS
+    list(APPEND EXCLUDE_PATHS
       ${COMPONENTS_DIR}/transport_manager/include/transport_manager/usb/libusb
       ${COMPONENTS_DIR}/transport_manager/src/usb/libusb
     )
-- 
2.7.4

